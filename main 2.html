<!DOCTYPE html>
<html>
<head>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <title>Biometric Scan</title>
    <style> 
    body {background-color: var(telegram theme background-color);color: var(telegram theme text-color);}
    </style>
</head>
<body>
    <h3>Attendance Verification</h3>
    <button id="scanBtn">Scan Fingerprint</button>

    <script>
        const tg = window.Telegram.WebApp;

        document.getElementById('scanBtn').onclick = async () => {
            try {
                // This triggers the phone's biometric prompt
                // For a simple project, we simulate the success after a 'WebAuthn' call
                const credential = await navigator.credentials.get({
                    publicKey: { /* challenge and settings here */ }
                });

                if (credential) {
                    // Send success back to the Telegram Bot
                    tg.sendData("VERIFIED_SUCCESSFUL");
                    tg.close();
                }
            } catch (err) {
                alert("Biometric failed or canceled: " + err);
            }
        };
    </script>
</body>
</html>